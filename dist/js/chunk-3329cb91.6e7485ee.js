(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3329cb91"],{"25f0":function(t,e,c){"use strict";var n=c("e330"),r=c("5e77").PROPER,a=c("6eeb"),o=c("825a"),s=c("3a9b"),i=c("577e"),u=c("d039"),l=c("ad6d"),d="toString",b=RegExp.prototype,g=b[d],h=n(l),p=u((function(){return"/a/b"!=g.call({source:"a",flags:"b"})})),f=r&&g.name!=d;(p||f)&&a(RegExp.prototype,d,(function(){var t=o(this),e=i(t.source),c=t.flags,n=i(void 0===c&&s(b,t)&&!("flags"in b)?h(t):c);return"/"+e+"/"+n}),{unsafe:!0})},9405:function(t,e,c){"use strict";c("9b9c")},"9b9c":function(t,e,c){},b1d7:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),r=function(t){return Object(n["C"])("data-v-4a711732"),t=t(),Object(n["A"])(),t},a={class:"bg-dark h-100"},o=r((function(){return Object(n["h"])("header",null,[Object(n["h"])("div",{class:"d-flex align-items-center"},[Object(n["h"])("i",{class:"bi bi-bookmark-plus text-warning me-3 fs-4"}),Object(n["h"])("h2",{class:"h1 text-white mb-0"},"watchlist")])],-1)})),s={class:"row flex-wrap list-unstyled mb-0"},i={class:"card rounded-3 border-0 card-img-box-shadow h-100 position-relative"},u=["onClick"],l=r((function(){return Object(n["h"])("i",{class:"bi bi-x-lg d-none d-md-block"},null,-1)})),d=r((function(){return Object(n["h"])("i",{class:"bi bi-x d-md-none"},null,-1)})),b=[l,d],g=["onClick"],h={class:"card-body d-flex flex-column d-none d-md-block"},p={class:"card-title h4"},f={class:"mt-auto"},P={key:0,class:"d-flex align-items-center justify-content-center h-100"},m=Object(n["j"])("pick some movies now");function j(t,e,c,r,l,d){var j=Object(n["J"])("router-link"),O=Object(n["J"])("PaginationForUser");return Object(n["z"])(),Object(n["g"])("div",a,[Object(n["h"])("div",{class:Object(n["s"])(["container py-5 px-5 px-xl-0",{"h-100":!l.listProductsPerPage.length}])},[o,Object(n["h"])("main",{class:Object(n["s"])(["py-4",{"h-100":!l.listProductsPerPage.length}])},[Object(n["h"])("ul",s,[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(l.listProductsPerPage,(function(t){return Object(n["z"])(),Object(n["g"])("li",{class:"col-6 col-md-4 col-lg-3 mb-4",key:t.id},[Object(n["h"])("div",i,[Object(n["h"])("a",{href:"#",onClick:Object(n["X"])((function(e){return d.removeProductFromList(t.id)}),["prevent"]),class:"position-absolute watchlist-item-delete d-block"},b,8,u),Object(n["h"])("a",{href:"#",class:"text-decoration-none d-block overflow-hidden",onClick:Object(n["X"])((function(e){return d.getProductID(t.id)}),["prevent"])},[Object(n["h"])("div",{class:"card-background rounded-3 card-img-border-adjusted",style:Object(n["t"])({backgroundImage:"url(".concat(l.baseImageUrl+t.poster_path,")")})},null,4)],8,g),Object(n["h"])("div",h,[Object(n["h"])("h5",p,Object(n["M"])(t.title),1),Object(n["h"])("small",f,Object(n["M"])(t.release_date),1)])])])})),128))]),l.listProductsPerPage.length?Object(n["f"])("",!0):(Object(n["z"])(),Object(n["g"])("div",P,[Object(n["k"])(j,{to:{name:"AllProducts"},class:"btn btn-warning"},{default:Object(n["V"])((function(){return[m]})),_:1})]))],2),l.listProducts.length?(Object(n["z"])(),Object(n["e"])(O,{key:0,totalPages:l.totalPages,currentPage:l.currentPage,onChangePage:d.setPagination,onPreviousPage:d.setPagination,onNextPage:d.setPagination},null,8,["totalPages","currentPage","onChangePage","onPreviousPage","onNextPage"])):Object(n["f"])("",!0)],2)])}var O=c("1da1"),v=(c("96cf"),c("99af"),c("fb6a"),c("4de4"),c("d3b7"),c("ac1f"),c("1276"),c("25f0"),c("5940")),w={components:{PaginationForUser:v["a"]},data:function(){return{baseImageUrl:"https://image.tmdb.org/t/p/w300",listProductsPerPage:[],listProducts:[],products:[],productID:"",totalPages:void 0,currentPage:1,perPage:12}},methods:{getList:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c="https://api.themoviedb.org/3/list/".concat("8191517","?api_key=").concat("7bbe6005cfda593dc21cceb93eaf9a8e","&language=en-US"),e.next=3,t.$http.get(c).catch((function(t){console.log(t)}));case 3:n=e.sent,t.listProducts=n.data.items,t.setPagination();case 6:case"end":return e.stop()}}),e)})))()},setPagination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentPage=t,this.totalPages=Math.ceil(this.listProducts.length/this.perPage);var e=this.currentPage*this.perPage-this.perPage,c=e+this.perPage;this.listProductsPerPage=this.listProducts.slice(e,c),window.scrollTo(0,-1e3)},getAllProducts:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/products/all"),e.next=3,t.$http.get(c).catch((function(t){console.log(t)}));case 3:n=e.sent,t.products=n.data.products,t.products=t.products.filter((function(t){return"Subscription"!==t.category}));case 6:case"end":return e.stop()}}),e)})))()},getProductID:function(t){var e=this.products.filter((function(e){return e.content.split("|")[0]===t.toString()}));this.productID=e[0].id,this.$router.push({name:"Product",params:{productID:this.productID}})},removeProductFromList:function(t){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function c(){var n,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n="https://api.themoviedb.org/3/list/".concat("8191517","/remove_item?api_key=").concat("7bbe6005cfda593dc21cceb93eaf9a8e","&session_id=").concat("d13bca7b7450c217c5af3127e3a0a984db98ccb2"),r={media_id:t},c.next=4,e.$http.post(n,r).catch((function(t){console.log(t)}));case 4:e.getList();case 5:case"end":return c.stop()}}),c)})))()}},created:function(){window.scrollTo(0,-1e3),this.getList(),this.getAllProducts()}},k=(c("9405"),c("d959")),x=c.n(k);const y=x()(w,[["render",j],["__scopeId","data-v-4a711732"]]);e["default"]=y}}]);
//# sourceMappingURL=chunk-3329cb91.6e7485ee.js.map