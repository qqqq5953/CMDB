(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-507b7f34"],{"466d":function(t,e,n){"use strict";var a=n("c65b"),r=n("d784"),c=n("825a"),i=n("50c4"),s=n("577e"),o=n("1d80"),l=n("dc4a"),u=n("8aa5"),g=n("14c3");r("match",(function(t,e,n){return[function(e){var n=o(this),r=void 0==e?void 0:l(e,t);return r?a(r,e,n):new RegExp(e)[t](s(n))},function(t){var a=c(this),r=s(t),o=n(e,a,r);if(o.done)return o.value;if(!a.global)return g(a,r);var l=a.unicode;a.lastIndex=0;var d,h=[],p=0;while(null!==(d=g(a,r))){var b=s(d[0]);h[p]=b,""===b&&(a.lastIndex=u(r,i(a.lastIndex),l)),p++}return 0===p?null:h}]}))},5099:function(t,e,n){"use strict";n.r(e);var a=n("7a23"),r={class:"bg-dark"},c={class:"container py-5 px-5 px-xl-0"},i={class:"row justify-content-center mb-5"},s={class:"col-xl-9"},o={class:"d-flex align-items-center"},l=Object(a["h"])("i",{class:"bi bi-film text-warning me-3 fs-3 d-none d-md-inline-block"},null,-1),u={class:"h1 mb-0 text-white"},g={class:"text-warning"},d={class:"py-4"},h={class:"list-unstyled"},p=["onClick"];function b(t,e,n,b,P,f){var v=Object(a["J"])("Loading"),j=Object(a["J"])("CardHorizontal"),O=Object(a["J"])("PaginationForUser");return Object(a["z"])(),Object(a["g"])(a["a"],null,[Object(a["k"])(v,{active:P.isLoading},null,8,["active"]),Object(a["h"])("div",r,[Object(a["h"])("div",c,[Object(a["h"])("div",i,[Object(a["h"])("div",s,[Object(a["h"])("header",null,[Object(a["h"])("div",o,[l,Object(a["h"])("h2",u,[Object(a["j"])(Object(a["M"])(P.allProducts.length)+" results for: ",1),Object(a["h"])("span",g,Object(a["M"])(P.genrePassIn),1)])])]),Object(a["h"])("main",d,[Object(a["h"])("ul",h,[(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["H"])(P.products,(function(t){return Object(a["z"])(),Object(a["g"])("li",{class:"mb-4",key:t.id},[Object(a["h"])("a",{href:"#",class:"text-decoration-none d-block",onClick:Object(a["X"])((function(e){return f.getProductDetails(t.id)}),["prevent"])},[Object(a["k"])(j,{product:t},null,8,["product"])],8,p)])})),128))])]),Object(a["k"])(O,{totalPages:P.totalPages,currentPage:P.currentPage,onChangePage:f.setPagination,onPreviousPage:f.setPagination,onNextPage:f.setPagination},null,8,["totalPages","currentPage","onChangePage","onPreviousPage","onNextPage"])])])])])],64)}var P=n("1da1"),f=(n("96cf"),n("b0c0"),n("99af"),n("4de4"),n("d3b7"),n("ac1f"),n("1276"),n("466d"),n("a15b"),n("fb6a"),n("5940")),v=n("97b9"),j={props:{genre:{type:String}},components:{PaginationForUser:f["a"],CardHorizontal:v["a"]},inject:["emitter","sortData"],data:function(){return{allProducts:[],products:[],isLoading:!1,pagination:{},genrePassIn:"",totalPages:void 0,currentPage:1,perPage:6}},computed:{queriesChange:function(){return this.$route.params.genre}},watch:{queriesChange:function(t){var e=t;"AllResults"===this.$route.name&&(this.genrePassIn=e.toLowerCase(),this.getAllProducts())}},methods:{getAllProducts:function(){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/products/all"),e.next=4,t.$http.get(n).catch((function(t){console.log(t)}));case 4:a=e.sent,t.allProducts=t.classifyGenre(a),t.allProducts=t.sortData(t.allProducts,"content"),t.setPagination(),t.isLoading=!1;case 9:case"end":return e.stop()}}),e)})))()},classifyGenre:function(t){var e=this,n=[];return n=t.data.products.filter((function(t){return"Subscription"!==t.category})),n="nowplaying"===this.genrePassIn?n.filter((function(t){var e=t.category.split("|")[1];return"nowplaying"===e})):"upcoming"===this.genrePassIn?n.filter((function(t){var e=t.category.split("|")[1];return"upcoming"===e})):n.filter((function(t){return t.title.split("-").join(" ").toUpperCase().match(e.genrePassIn.toUpperCase())})),n},setPagination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentPage=t,this.totalPages=Math.ceil(this.allProducts.length/this.perPage);var e=this.currentPage*this.perPage-this.perPage,n=e+this.perPage;this.products=this.allProducts.slice(e,n),window.scrollTo(0,-1e3)},getProductDetails:function(t){this.$router.push({name:"Product",params:{productID:t}})}},created:function(){window.scrollTo(0,-1e3),this.genrePassIn=this.$route.params.genre,this.getAllProducts()}},O=n("d959"),m=n.n(O);const w=m()(j,[["render",b]]);e["default"]=w},b0c0:function(t,e,n){var a=n("83ab"),r=n("5e77").EXISTS,c=n("e330"),i=n("9bf2").f,s=Function.prototype,o=c(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=c(l.exec),g="name";a&&!r&&i(s,g,{configurable:!0,get:function(){try{return u(l,o(this))[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-507b7f34.ef389968.js.map