(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15a88eef"],{"06e3":function(t,e,r){"use strict";r.r(e);r("ac1f"),r("1276"),r("b0c0"),r("b680"),r("07ac");var n=r("7a23"),s=function(t){return Object(n["C"])("data-v-69c6a4e0"),t=t(),Object(n["A"])(),t},a={class:"bg-primary"},c={class:"container py-5 px-5 px-xl-0"},i={class:"text-white d-none"},o={class:"row"},u={class:"col-8"},l={class:"h1 text-white mb-3"},d={class:"h6 text-white"},b={class:"fs-6 me-2"},h=Object(n["j"])(" | "),f={class:"fs-6 ms-2"},p={class:"col-4 d-flex align-items-end"},g={class:"ms-auto"},j=s((function(){return Object(n["h"])("h4",{class:"h6 text-white text-end"},"popularity",-1)})),O={class:"d-block text-end"},m=s((function(){return Object(n["h"])("i",{class:"fs-4 bi bi-star-fill text-warning me-2"},null,-1)})),v={class:"fs-3"},y={class:"ms-4"},x=s((function(){return Object(n["h"])("h4",{class:"h6 text-white text-end"},"Vote Average",-1)})),w={class:"d-block text-end"},k=s((function(){return Object(n["h"])("i",{class:"fs-4 bi bi-people-fill text-info me-2"},null,-1)})),I={class:"fs-3"},M={class:"text-white"},T={class:"row flex-column flex-sm-row gap-4 gap-md-5 gap-xl-0"},P={class:"col-xl-9"},S={class:"row flex-column flex-sm-row gap-4 gap-md-0"},D={class:"col-8 col-sm-5 col-md-6 col-xl-5 mx-auto"},R={class:"position-relative poster-box-shadow rounded-3 h-100 w-100",style:{}},_=["src","alt"],C=s((function(){return Object(n["h"])("div",{class:"position-absolute top-0 bottom-0 w-100 rounded-3",style:{background:"rgba(255, 255, 255, 0.1)"}},null,-1)})),A={class:"col-12 col-md-6 col-xl-7 d-flex flex-column mt-2 mt-md-0"},E={class:"d-flex align-items-start justify-content-between mb-2"},z={class:"display-5 text-white mb-0"},F={key:0,class:"spinner-border spinner-grow-sm"},N={key:1},U={key:0,class:"bi bi-bookmark-plus fs-3"},L={key:1,class:"bi bi-bookmark-check-fill fs-3"},X={class:"h6 text-white mb-1"},$=Object(n["j"])(" Original title: "),H={class:"fw-normal"},V={class:"text-muted"},B={class:"fs-6 me-2"},W=Object(n["j"])(" | "),G={class:"fs-6 ms-2"},Y={class:"overview mt-3 fs-5"},J={class:"d-flex pb-3"},Q={class:"col-12 col-xl-6"},q=["disabled"],K={key:0,class:"spinner-border spinner-grow-sm"},Z={key:1,class:"bi bi-arrow-right-circle me-2"},tt=Object(n["j"])(" RENT $0.99 "),et={class:"col-12 col-xl-6 mb-3 mb-xl-0"},rt=["disabled"],nt={key:0,class:"spinner-border spinner-grow-sm"},st={key:1,class:"bi bi-hand-index-thumb me-2"},at=Object(n["j"])(" SUBSCRIBE $9.99 "),ct=s((function(){return Object(n["h"])("i",{class:"bi bi-cart-check me-2"},null,-1)})),it=s((function(){return Object(n["h"])("span",{class:"text-light"},"SUBSCRIBED !",-1)})),ot={key:1,class:"mt-auto"},ut=s((function(){return Object(n["h"])("button",{class:"btn btn-primary border text-warning fst-italic w-100 disabled rounded-3"}," Upcoming ",-1)})),lt=[ut],dt={class:"col-xl-3"},bt={class:"d-flex flex-column aside-background h-100 p-3 rounded-3"},ht={class:"mb-3 d-flex flex-column gap-3"},ft={class:"d-flex align-items-center justify-content-between"},pt=s((function(){return Object(n["h"])("h4",{class:"h6 text-white text-end mb-0"},"popularity",-1)})),gt={class:"text-end"},jt=s((function(){return Object(n["h"])("i",{class:"bi bi-trophy-fill text-danger me-2"},null,-1)})),Ot={class:"d-flex align-items-center justify-content-between"},mt=s((function(){return Object(n["h"])("h4",{class:"h6 text-white text-end mb-0"},"Vote Average",-1)})),vt={class:"text-end"},yt=s((function(){return Object(n["h"])("i",{class:"bi bi-people-fill text-info me-2"},null,-1)})),xt={class:"d-flex align-items-center justify-content-between d-lg-none"},wt=s((function(){return Object(n["h"])("h4",{class:"h6 text-white mb-0"},"Rating",-1)})),kt=s((function(){return Object(n["h"])("i",{class:"bi bi-dash-circle-fill text-muted fs-6"},null,-1)})),It=[kt],Mt={key:1,class:"bi bi-star-fill text-warning me-2"},Tt=s((function(){return Object(n["h"])("option",{selected:""},"Rate",-1)})),Pt=["value"],St={key:3},Dt={class:"d-none d-lg-flex align-items-lg-center justify-content-lg-between"},Rt=s((function(){return Object(n["h"])("div",null,[Object(n["h"])("h4",{class:"h6 text-white mb-0"},"Rating")],-1)})),_t={class:"position-relative d-flex align-items-center",style:{"min-height":"25px"}},Ct={class:"position-absolute end-0 d-flex align-items-center"},At=s((function(){return Object(n["h"])("i",{class:"bi bi-dash-circle-fill text-muted fs-6"},null,-1)})),Et=[At],zt={key:0},Ft={class:"d-flex flex-column justify-content-between flex-grow-1 list-unstyled more-video-list mb-0 gap-3 gap-xl-0"},Nt=["onClick"],Ut=s((function(){return Object(n["h"])("i",{class:"bi bi-chevron-compact-right"},null,-1)})),Lt={key:0,class:"row mt-5"},Xt={class:"col-12"},$t={class:"h1 text-white d-flex align-items-center"},Ht=s((function(){return Object(n["h"])("i",{class:"bi bi-camera-reels text-warning me-3 fs-4 d-none d-md-block"},null,-1)})),Vt={class:"col-xl-9"},Bt={class:"video-wrapper"},Wt=["src"],Gt=["src"];function Yt(t,e,r,s,ut,kt){var At=Object(n["J"])("Loading"),Yt=Object(n["J"])("router-link");return Object(n["z"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(At,{active:ut.isLoading},null,8,["active"]),Object(n["h"])("div",a,[Object(n["h"])("div",c,[Object(n["h"])("header",i,[Object(n["h"])("section",o,[Object(n["h"])("div",u,[Object(n["h"])("h2",l,Object(n["M"])(ut.title),1),Object(n["h"])("h3",d,"Original title: "+Object(n["M"])(ut.originalTitle),1),Object(n["h"])("span",b,Object(n["M"])(ut.releaseDate.split("-")[0]),1),h,Object(n["h"])("span",f,Object(n["M"])(ut.runTime.hour)+"h "+Object(n["M"])(ut.runTime.minute)+"m",1)]),Object(n["h"])("div",p,[Object(n["h"])("div",g,[j,Object(n["h"])("div",O,[m,Object(n["h"])("span",v,Object(n["M"])(ut.popularity),1)])]),Object(n["h"])("div",y,[x,Object(n["h"])("div",w,[k,Object(n["h"])("span",I,Object(n["M"])(ut.voteAverage),1)])])])])]),Object(n["h"])("main",M,[Object(n["h"])("div",T,[Object(n["h"])("section",P,[Object(n["h"])("div",S,[Object(n["h"])("div",D,[Object(n["h"])("div",R,[ut.posterUrl?(Object(n["z"])(),Object(n["g"])("img",{key:0,class:"img-fluid rounded-3 h-100 w-100",style:{"object-fit":"cover"},src:ut.baseImageUrl+ut.posterUrl,alt:ut.title},null,8,_)):Object(n["f"])("",!0),C])]),Object(n["h"])("section",A,[Object(n["h"])("div",E,[Object(n["h"])("h2",z,Object(n["M"])(ut.title),1),Object(n["h"])("a",{href:"#",class:"text-white",onClick:e[0]||(e[0]=Object(n["X"])((function(){return kt.addProductToList&&kt.addProductToList.apply(kt,arguments)}),["prevent"]))},[ut.status.watchlistProductID===ut.idPassIn?(Object(n["z"])(),Object(n["g"])("span",F)):(Object(n["z"])(),Object(n["g"])("span",N,[ut.status.isProductInList?(Object(n["z"])(),Object(n["g"])("i",L)):(Object(n["z"])(),Object(n["g"])("i",U))]))])]),Object(n["h"])("h3",X,[$,Object(n["h"])("span",H,Object(n["M"])(ut.originalTitle),1)]),Object(n["h"])("div",V,[Object(n["h"])("span",B,Object(n["M"])(ut.releaseDate.split("-")[0]),1),W,Object(n["h"])("span",G,Object(n["M"])(ut.runTime.hour)+"H "+Object(n["M"])(ut.runTime.minute)+"M",1)]),Object(n["h"])("p",Y,Object(n["M"])(ut.overview),1),Object(n["h"])("div",J,[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(ut.genres,(function(t){return Object(n["z"])(),Object(n["g"])("span",{class:"badge rounded-pill border-secondary me-2",key:t},Object(n["M"])(t.name),1)})),128))]),"nowplaying"===ut.isNowOrUpcoming?(Object(n["z"])(),Object(n["g"])("div",{key:0,class:Object(n["s"])(["row justify-content-between mt-auto flex-column-reverse flex-xl-row",{"mt-auto":"upcoming"===ut.isNowOrUpcoming}]),role:"group"},[Object(n["h"])("div",Q,[Object(n["h"])("button",{type:"button",class:Object(n["s"])(["btn text-center rounded-3 w-100",{"btn-outline-secondary text-muted ":!ut.status.isSubscriptionInCart,"btn-outline-light text-light ":ut.status.isSubscriptionInCart}]),disabled:ut.status.loadingProductID===r.productID,onClick:e[1]||(e[1]=function(t){return kt.addProductToCart(ut.idPassIn)})},[ut.status.loadingProductID===r.productID?(Object(n["z"])(),Object(n["g"])("span",K)):Object(n["f"])("",!0),ut.status.loadingProductID!==r.productID?(Object(n["z"])(),Object(n["g"])("i",Z)):Object(n["f"])("",!0),tt],10,q)]),Object(n["h"])("div",et,[ut.status.isSubscriptionInCart?(Object(n["z"])(),Object(n["e"])(Yt,{key:1,to:{name:"Cart"},class:"w-100 btn btn-warning mt-auto border border-warning border-2 rounded-3"},{default:Object(n["V"])((function(){return[ct,it]})),_:1})):(Object(n["z"])(),Object(n["g"])("button",{key:0,type:"button",class:"btn btn-warning text-center border border-warning text-primary rounded-3 w-100",disabled:ut.status.loadingProductID===kt.subscriptionID,onClick:e[2]||(e[2]=function(t){return kt.addProductToCart(kt.subscriptionID)})},[ut.status.loadingProductID===kt.subscriptionID?(Object(n["z"])(),Object(n["g"])("span",nt)):Object(n["f"])("",!0),ut.status.loadingProductID!==kt.subscriptionID?(Object(n["z"])(),Object(n["g"])("i",st)):Object(n["f"])("",!0),at],8,rt))])],2)):(Object(n["z"])(),Object(n["g"])("div",ot,lt))])])]),Object(n["h"])("section",dt,[Object(n["h"])("aside",bt,[Object(n["h"])("div",ht,[Object(n["h"])("section",ft,[pt,Object(n["h"])("div",gt,[jt,Object(n["h"])("span",null,Object(n["M"])(parseFloat(ut.popularity).toFixed(0)),1)])]),Object(n["h"])("section",Ot,[mt,Object(n["h"])("div",vt,[yt,Object(n["h"])("span",null,Object(n["M"])(ut.voteAverage),1)])]),Object(n["h"])("section",xt,[wt,Object(n["h"])("div",null,[ut.status.rating?(Object(n["z"])(),Object(n["g"])("a",{key:0,href:"#",class:"px-2 me-1",onClick:e[3]||(e[3]=Object(n["X"])((function(){return kt.deleteRating&&kt.deleteRating.apply(kt,arguments)}),["prevent"]))},It)):Object(n["f"])("",!0),ut.status.rating?(Object(n["z"])(),Object(n["g"])("i",Mt)):(Object(n["z"])(),Object(n["g"])("select",{key:2,class:"form-select form-select-sm py-1 rounded-3","aria-label":"form-select-sm example",onChange:e[4]||(e[4]=function(t){return kt.ratingOnMobile(t)})},[Tt,(Object(n["z"])(),Object(n["g"])(n["a"],null,Object(n["H"])(10,(function(t){return Object(n["h"])("option",{value:t,key:t},Object(n["M"])(t),9,Pt)})),64))],32)),ut.status.rating?(Object(n["z"])(),Object(n["g"])("span",St,Object(n["M"])(ut.result),1)):Object(n["f"])("",!0)])]),Object(n["h"])("section",Dt,[Rt,Object(n["h"])("div",_t,[Object(n["h"])("div",Ct,[ut.status.rating?(Object(n["z"])(),Object(n["g"])("a",{key:0,href:"#",class:"px-2 me-1",onClick:e[5]||(e[5]=Object(n["X"])((function(){return kt.deleteRating&&kt.deleteRating.apply(kt,arguments)}),["prevent"]))},Et)):Object(n["f"])("",!0),Object(n["h"])("a",{href:"#",class:Object(n["s"])(["d-flex justify-content-end align-items-center",{"me-4":ut.result}]),onMousemove:e[6]||(e[6]=Object(n["X"])((function(t){return kt.hoverRating(t)}),["prevent"])),onMouseenter:e[7]||(e[7]=Object(n["X"])((function(){return kt.offsetWidthCount&&kt.offsetWidthCount.apply(kt,arguments)}),["prevent"])),onClick:e[8]||(e[8]=Object(n["X"])((function(){return kt.rating&&kt.rating.apply(kt,arguments)}),["prevent"])),ref:"ratingContainer"},[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(ut.starsArray,(function(t){return Object(n["z"])(),Object(n["g"])("i",{style:{"z-index":"-1"},key:t.id,class:Object(n["s"])(["bi text-warning",{"bi-star":t.star,"bi-star-half":t.starHalf,"bi-star-fill":t.starFill}])},null,2)})),128))],34)]),ut.result?(Object(n["z"])(),Object(n["g"])("div",zt,Object(n["M"])(2*ut.result),1)):Object(n["f"])("",!0)])])]),Object(n["h"])("ul",Ft,[(Object(n["z"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(Object.values(ut.videoType),(function(t){return Object(n["z"])(),Object(n["g"])("li",{class:"rounded-3 bg-dark",key:t},[Object(n["h"])("a",{href:"#",class:Object(n["s"])(["btn d-flex justify-content-between text-white w-100 px-3 py-3 py-xl-2 text-decoration-none fs-6",{disabled:!t.content.length}]),onClick:Object(n["X"])((function(e){return kt.moreVideos(t.type)}),["prevent"])},[Object(n["h"])("div",null,[Object(n["j"])(Object(n["M"])(t.type)+" ",1),Object(n["h"])("span",null," ("+Object(n["M"])(t.content.length)+") ",1)]),Ut],10,Nt)])})),128))])])])]),ut.trailers.length||ut.teasers.length?(Object(n["z"])(),Object(n["g"])("div",Lt,[Object(n["h"])("div",Xt,[Object(n["h"])("h2",$t,[Ht,Object(n["j"])("Watch "+Object(n["M"])(ut.trailers.length?"Trailer":"Teaser"),1)])]),Object(n["h"])("section",Vt,[Object(n["h"])("div",Bt,[ut.trailers.length?(Object(n["z"])(),Object(n["g"])("iframe",{key:0,class:"test",type:"text/html",allowfullscreen:"",width:"100%",height:"100%",src:ut.baseYoutubeUrl+ut.trailers[0].key},"\n              ",8,Wt)):(Object(n["z"])(),Object(n["g"])("iframe",{key:1,class:"test",type:"text/html",allowfullscreen:"",width:"100%",height:"100%",src:ut.baseYoutubeUrl+ut.teasers[0].key},"\n              ",8,Gt))])])])):Object(n["f"])("",!0)])])])],64)}var Jt=r("1da1"),Qt=(r("96cf"),r("a9e3"),r("99af"),r("d3b7"),r("159b"),r("4de4"),r("caad"),r("2532"),{props:{productID:{type:String}},inject:["emitter","pushMessageStateForUser"],data:function(){return{baseImageUrl:"https://image.tmdb.org/t/p/w300",baseYoutubeUrl:"https://www.youtube.com/embed/",listStatusMessage:"",isLoading:!1,title:"",originalTitle:"",runTime:{hour:"",minute:""},trailers:[],teasers:[],idPassIn:"",releaseDate:"",popularity:"",voteAverage:"",posterUrl:"",genres:[],overview:"",id:"",genre:"",isNowOrUpcoming:"",price:"",language:"en-US",videoType:{behindTheScenes:{type:"Behind the Scenes",content:[]},clips:{type:"Clips",content:[]},teasers:{type:"Teasers",content:[]},trailers:{type:"Trailers",content:[]},featurettes:{type:"Featurettes",content:[]},others:{type:"Others",content:[]}},status:{loadingProductID:"",watchlistProductID:"",isProductInList:"",isSubscriptionInCart:!1,rating:""},starsArray:[{star:!0,starHalf:!1,starFill:!1,id:"1"},{star:!0,starHalf:!1,starFill:!1,id:"2"},{star:!0,starHalf:!1,starFill:!1,id:"3"},{star:!0,starHalf:!1,starFill:!1,id:"4"},{star:!0,starHalf:!1,starFill:!1,id:"5"}],offsetX:"",ratingContainerWidth:"",ratio:0,result:""}},computed:{queriesChange:function(){return this.$route.params.productID},subscriptionID:function(){return"-MvtGpQQ9ctVDEyXHcX0"}},watch:{queriesChange:function(t){"Product"===this.$route.name&&(this.idPassIn=t,this.getProductDetails())}},methods:{ratingOnMobile:function(t){this.result=Number(t.target.value),this.rating()},rating:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.screen.width>=992&&(t.$refs.ratingContainer.style.pointerEvents="none"),r="https://api.themoviedb.org/3/movie/".concat(t.id,"/rating?api_key=").concat("7bbe6005cfda593dc21cceb93eaf9a8e","&session_id=").concat("d13bca7b7450c217c5af3127e3a0a984db98ccb2"),n={value:t.result},e.next=5,t.$http.post(r,n).catch((function(t){console.log(t)}));case 5:s=e.sent,t.pushMessageStateForUser(s.data.status_message,t.title,"Rating completed"),t.status.rating=s.data.success;case 8:case"end":return e.stop()}}),e)})))()},deleteRating:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){var r,n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.screen.width>=992&&(t.$refs.ratingContainer.style.pointerEvents="auto"),r="https://api.themoviedb.org/3/movie/".concat(t.id,"/rating?api_key=").concat("7bbe6005cfda593dc21cceb93eaf9a8e","&session_id=").concat("d13bca7b7450c217c5af3127e3a0a984db98ccb2"),n={value:t.result},e.next=5,t.$http.delete(r,n).catch((function(t){console.log(t)}));case 5:for(s=e.sent,t.status.rating=!s.data.success,t.result=0,a=0;a<t.starsArray.length;a++)t.starsArray[a].star=!0,t.starsArray[a].starHalf=!1,t.starsArray[a].starFill=!1;t.pushMessageStateForUser(s.data.status_message,t.title,"Delete rating completed");case 10:case"end":return e.stop()}}),e)})))()},offsetWidthCount:function(){this.ratingContainerWidth=this.$refs.ratingContainer.offsetWidth},halfStar:function(t){t>0&&t<=.1&&(this.result=.5),t>.2&&t<=.3&&(this.result=1.5),t>.4&&t<=.5&&(this.result=2.5),t>.6&&t<=.7&&(this.result=3.5),t>.8&&t<=.9&&(this.result=4.5),5!==Math.floor(this.result)&&(this.starsArray[Math.floor(this.result)].star=!1,this.starsArray[Math.floor(this.result)].starHalf=!0,this.starsArray[Math.floor(this.result)].starFill=!1)},fullStar:function(t){t<=0&&(this.result=0),t>.1&&t<=.2&&(this.result=1),t>.3&&t<=.4&&(this.result=2),t>.5&&t<=.6&&(this.result=3),t>.7&&t<=.8&&(this.result=4),t>.9&&t<=1&&(this.result=5)},hoverRating:function(t){this.offsetX=t.offsetX,this.ratio=this.offsetX/this.ratingContainerWidth,this.halfStar(this.ratio),this.fullStar(this.ratio);for(var e=0;e<Math.floor(this.result);e++)this.starsArray[e].star=!1,this.starsArray[e].starHalf=!1,this.starsArray[e].starFill=!0;for(var r=Math.ceil(this.result);r<this.starsArray.length;r++)this.starsArray[r].star=!0,this.starsArray[r].starHalf=!1,this.starsArray[r].starFill=!1},moreVideos:function(t){this.$router.push({name:"ProductVideos",params:{movieID:this.id,movieTitle:this.title,videoType:t}})},arrangeVideoType:function(t){var e=this;Object.values(this.videoType).forEach((function(t){t.content.length=0})),t.forEach((function(t){"Clip"===t.type?e.videoType.clips.content.push(t):"Teaser"===t.type?e.videoType.teasers.content.push(t):"Trailer"===t.type?e.videoType.trailers.content.push(t):"Featurette"===t.type?e.videoType.featurettes.content.push(t):"Behind the Scenes"===t.type?e.videoType.behindTheScenes.content.push(t):e.videoType.others.content.push(t)}))},getProductDetails:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,r="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/product/").concat(t.idPassIn),e.next=4,t.$http.get(r).catch((function(t){return console.log(t)}));case 4:return n=e.sent,t.id=n.data.product.content.split("|")[0],t.price=n.data.product.price,t.genre=n.data.product.category.split("|")[0],t.isNowOrUpcoming=n.data.product.category.split("|")[1],e.next=11,t.getTMDBData();case 11:t.isLoading=!1;case 12:case"end":return e.stop()}}),e)})))()},getTMDBData:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("https://api.themoviedb.org/3/".concat(t.genre,"/").concat(t.id,"?api_key=").concat("7bbe6005cfda593dc21cceb93eaf9a8e","&language=").concat(t.language,"&append_to_response=videos,images"));case 2:r=e.sent,"movie"===t.genre&&t.getMovieDetail(r),"tv"===t.genre&&t.getTVDetail(r),t.posterUrl=r.data.poster_path,t.genres=r.data.genres,t.overview=r.data.overview,t.popularity=r.data.popularity,t.voteAverage=r.data.vote_average,t.arrangeVideoType(r.data.videos.results),t.trailers=r.data.videos.results.filter((function(t){return"Trailer"===t.type})),t.teasers=r.data.videos.results.filter((function(t){return"Teaser"===t.type}));case 13:case"end":return e.stop()}}),e)})))()},getMovieDetail:function(t){this.title=t.data.title,this.originalTitle=t.data.original_title,this.releaseDate=t.data.release_date,this.runTime.hour=Math.floor(t.data.runtime/60),this.runTime.minute=t.data.runtime%60},checkProductStatus:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/list/".concat("8191517","/item_status?api_key=").concat("7bbe6005cfda593dc21cceb93eaf9a8e","&movie_id=").concat(t.id),e.next=3,t.$http.get(r).catch((function(t){console.log(t)}));case 3:n=e.sent,t.status.isProductInList=n.data.item_present;case 5:case"end":return e.stop()}}),e)})))()},removeProductFromList:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.status.watchlistProductID=t.idPassIn,r="https://api.themoviedb.org/3/list/".concat("8191517","/remove_item?api_key=").concat("7bbe6005cfda593dc21cceb93eaf9a8e","&session_id=").concat("d13bca7b7450c217c5af3127e3a0a984db98ccb2"),n={media_id:t.id},e.next=5,t.$http.post(r,n).catch((function(t){console.log(t)}));case 5:s=e.sent,t.status.isProductInList=!s.data.success,t.listStatusMessage=s.data.status_message,t.pushMessageStateForUser(t.listStatusMessage,t.title,"Remove from watchlist"),t.status.watchlistProductID="";case 10:case"end":return e.stop()}}),e)})))()},addProductToList:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.status.watchlistProductID=t.idPassIn,e.next=3,t.checkProductStatus();case 3:if(!t.status.isProductInList){e.next=7;break}return e.next=6,t.removeProductFromList();case 6:return e.abrupt("return");case 7:return r="https://api.themoviedb.org/3/list/".concat("8191517","/add_item?api_key=").concat("7bbe6005cfda593dc21cceb93eaf9a8e","&session_id=").concat("d13bca7b7450c217c5af3127e3a0a984db98ccb2"),n={media_id:t.id},e.next=11,t.$http.post(r,n).catch((function(t){console.log(t)}));case 11:s=e.sent,t.status.isProductInList=s.data.success,t.listStatusMessage=s.data.status_message,t.pushMessageStateForUser(t.listStatusMessage,t.title,"Add to watchlist"),t.status.watchlistProductID="";case 16:case"end":return e.stop()}}),e)})))()},addProductToCart:function(t){var e=this;return Object(Jt["a"])(regeneratorRuntime.mark((function r(){var n,s,a,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.status.loadingProductID=t,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/cart"),s={data:{product_id:t,qty:1}},r.next=5,e.$http.post(n,s).catch((function(t){console.log(t)}));case 5:return a=r.sent,r.next=8,e.getCartLength();case 8:if(c=r.sent,e.emitter.emit("calculate-product-number",c),e.pushMessageStateForUser(a.data.success,t===e.subscriptionID?"Subscription":e.title,"Add to cart"),t!==e.subscriptionID){r.next=14;break}return r.next=14,e.hasSubscription();case 14:e.status.loadingProductID="";case 15:case"end":return r.stop()}}),r)})))()},cartAPIResponse:function(){var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("e-commerce-api","/cart");return this.$http.get(t)},getCartLength:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.cartAPIResponse().catch((function(t){console.log(t)}));case 2:return r=e.sent,e.abrupt("return",r.data.data.carts.length);case 4:case"end":return e.stop()}}),e)})))()},hasSubscription:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.cartAPIResponse().catch((function(t){console.log(t)}));case 2:r=e.sent,n=[],r.data.data.carts.forEach((function(t){n.push(t.product_id.includes("-MvtGpQQ9ctVDEyXHcX0"))})),t.status.isSubscriptionInCart=n.includes(!0);case 6:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(Jt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.scrollTo(0,-1e3),t.idPassIn=t.productID,e.next=4,t.getProductDetails();case 4:t.checkProductStatus(),t.hasSubscription();case 6:case"end":return e.stop()}}),e)})))()}}),qt=(r("b6e4"),r("d959")),Kt=r.n(qt);const Zt=Kt()(Qt,[["render",Yt],["__scopeId","data-v-69c6a4e0"]]);e["default"]=Zt},"07ac":function(t,e,r){var n=r("23e7"),s=r("6f53").values;n({target:"Object",stat:!0},{values:function(t){return s(t)}})},"159b":function(t,e,r){var n=r("da84"),s=r("fdbc"),a=r("785a"),c=r("17c2"),i=r("9112"),o=function(t){if(t&&t.forEach!==c)try{i(t,"forEach",c)}catch(e){t.forEach=c}};for(var u in s)s[u]&&o(n[u]&&n[u].prototype);o(a)},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,s=r("a640"),a=s("forEach");t.exports=a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},2532:function(t,e,r){"use strict";var n=r("23e7"),s=r("e330"),a=r("5a34"),c=r("1d80"),i=r("577e"),o=r("ab13"),u=s("".indexOf);n({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~u(i(c(this)),i(a(t)),arguments.length>1?arguments[1]:void 0)}})},"4de4":function(t,e,r){"use strict";var n=r("23e7"),s=r("b727").filter,a=r("1dde"),c=a("filter");n({target:"Array",proto:!0,forced:!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("e330"),s=r("1d80"),a=r("577e"),c=r("5899"),i=n("".replace),o="["+c+"]",u=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),d=function(t){return function(e){var r=a(s(e));return 1&t&&(r=i(r,u,"")),2&t&&(r=i(r,l,"")),r}};t.exports={start:d(1),end:d(2),trim:d(3)}},"5a34":function(t,e,r){var n=r("da84"),s=r("44e7"),a=n.TypeError;t.exports=function(t){if(s(t))throw a("The method doesn't accept regular expressions");return t}},"6f53":function(t,e,r){var n=r("83ab"),s=r("e330"),a=r("df75"),c=r("fc6a"),i=r("d1e7").f,o=s(i),u=s([].push),l=function(t){return function(e){var r,s=c(e),i=a(s),l=i.length,d=0,b=[];while(l>d)r=i[d++],n&&!o(s,r)||u(b,t?[r,s[r]]:s[r]);return b}};t.exports={entries:l(!0),values:l(!1)}},7156:function(t,e,r){var n=r("1626"),s=r("861d"),a=r("d2bb");t.exports=function(t,e,r){var c,i;return a&&n(c=e.constructor)&&c!==r&&s(i=c.prototype)&&i!==r.prototype&&a(t,i),t}},7604:function(t,e,r){},a9e3:function(t,e,r){"use strict";var n=r("83ab"),s=r("da84"),a=r("e330"),c=r("94ca"),i=r("6eeb"),o=r("1a2d"),u=r("7156"),l=r("3a9b"),d=r("d9b5"),b=r("c04e"),h=r("d039"),f=r("241c").f,p=r("06cf").f,g=r("9bf2").f,j=r("408a"),O=r("58a8").trim,m="Number",v=s[m],y=v.prototype,x=s.TypeError,w=a("".slice),k=a("".charCodeAt),I=function(t){var e=b(t,"number");return"bigint"==typeof e?e:M(e)},M=function(t){var e,r,n,s,a,c,i,o,u=b(t,"number");if(d(u))throw x("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=O(u),e=k(u,0),43===e||45===e){if(r=k(u,2),88===r||120===r)return NaN}else if(48===e){switch(k(u,1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+u}for(a=w(u,2),c=a.length,i=0;i<c;i++)if(o=k(a,i),o<48||o>s)return NaN;return parseInt(a,n)}return+u};if(c(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var T,P=function(t){var e=arguments.length<1?0:v(I(t)),r=this;return l(y,r)&&h((function(){j(r)}))?u(Object(e),r,P):e},S=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0;S.length>D;D++)o(v,T=S[D])&&!o(P,T)&&g(P,T,p(v,T));P.prototype=y,y.constructor=P,i(s,m,P)}},ab13:function(t,e,r){var n=r("b622"),s=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[s]=!1,"/./"[t](e)}catch(n){}}return!1}},b0c0:function(t,e,r){var n=r("83ab"),s=r("5e77").EXISTS,a=r("e330"),c=r("9bf2").f,i=Function.prototype,o=a(i.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(u.exec),d="name";n&&!s&&c(i,d,{configurable:!0,get:function(){try{return l(u,o(this))[1]}catch(t){return""}}})},b6e4:function(t,e,r){"use strict";r("7604")},b727:function(t,e,r){var n=r("0366"),s=r("e330"),a=r("44ad"),c=r("7b0b"),i=r("07fa"),o=r("65f0"),u=s([].push),l=function(t){var e=1==t,r=2==t,s=3==t,l=4==t,d=6==t,b=7==t,h=5==t||d;return function(f,p,g,j){for(var O,m,v=c(f),y=a(v),x=n(p,g),w=i(y),k=0,I=j||o,M=e?I(f,w):r||b?I(f,0):void 0;w>k;k++)if((h||k in y)&&(O=y[k],m=x(O,k,v),t))if(e)M[k]=m;else if(m)switch(t){case 3:return!0;case 5:return O;case 6:return k;case 2:u(M,O)}else switch(t){case 4:return!1;case 7:u(M,O)}return d?-1:s||l?l:M}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},caad:function(t,e,r){"use strict";var n=r("23e7"),s=r("4d64").includes,a=r("44d2");n({target:"Array",proto:!0},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")}}]);
//# sourceMappingURL=chunk-15a88eef.591d38ef.js.map